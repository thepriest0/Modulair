{% extends "base.html" %}

{% block title %}Edit Profile - ModulAIr{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto">
        <!-- Header -->
        <div class="mb-6">
            <h1 class="text-3xl font-bold text-gray-800">Edit Profile</h1>
            <p class="text-gray-600">Update your profile information and preferences</p>
        </div>

        <!-- Form -->
        <div class="bg-white rounded-lg shadow-lg p-6">
            <form method="POST" class="space-y-6">
                <!-- Basic Information -->
                <div>
                    <h2 class="text-xl font-semibold text-gray-800 mb-4">Basic Information</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="first_name" class="block text-sm font-medium text-gray-700">First Name</label>
                            <input type="text" id="first_name" name="first_name" 
                                   value="{{ current_user.first_name or '' }}"
                                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </div>
                        <div>
                            <label for="last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
                            <input type="text" id="last_name" name="last_name" 
                                   value="{{ current_user.last_name or '' }}"
                                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </div>
                    </div>
                </div>

                <!-- Contact Information -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Contact Information</h3>
                    <div class="space-y-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700">Email Address</label>
                            <input type="email" id="email" name="email" 
                                   value="{{ current_user.email }}" required
                                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                            <input type="tel" id="phone" name="phone" 
                                   value="{{ current_user.phone or '' }}"
                                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </div>
                        <div>
                            <label for="location" class="block text-sm font-medium text-gray-700">Location</label>
                            <input type="text" id="location" name="location" 
                                   value="{{ current_user.location or '' }}"
                                   placeholder="City, Country"
                                   class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                        </div>
                    </div>
                </div>

                <!-- Preferences -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Preferences</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="timezone" class="block text-sm font-medium text-gray-700">Timezone</label>
                            <select id="timezone" name="timezone" 
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                <option value="UTC" {{ 'selected' if current_user.timezone == 'UTC' }}>UTC</option>
                                <option value="America/New_York" {{ 'selected' if current_user.timezone == 'America/New_York' }}>Eastern Time</option>
                                <option value="America/Chicago" {{ 'selected' if current_user.timezone == 'America/Chicago' }}>Central Time</option>
                                <option value="America/Denver" {{ 'selected' if current_user.timezone == 'America/Denver' }}>Mountain Time</option>
                                <option value="America/Los_Angeles" {{ 'selected' if current_user.timezone == 'America/Los_Angeles' }}>Pacific Time</option>
                                <option value="Europe/London" {{ 'selected' if current_user.timezone == 'Europe/London' }}>London</option>
                                <option value="Europe/Paris" {{ 'selected' if current_user.timezone == 'Europe/Paris' }}>Paris</option>
                                <option value="Europe/Berlin" {{ 'selected' if current_user.timezone == 'Europe/Berlin' }}>Berlin</option>
                                <option value="Asia/Tokyo" {{ 'selected' if current_user.timezone == 'Asia/Tokyo' }}>Tokyo</option>
                                <option value="Asia/Shanghai" {{ 'selected' if current_user.timezone == 'Asia/Shanghai' }}>Shanghai</option>
                                <option value="Australia/Sydney" {{ 'selected' if current_user.timezone == 'Australia/Sydney' }}>Sydney</option>
                            </select>
                        </div>
                        <div>
                            <label for="language" class="block text-sm font-medium text-gray-700">Language</label>
                            <select id="language" name="language" 
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                <option value="en" {{ 'selected' if current_user.language == 'en' }}>English</option>
                                <option value="es" {{ 'selected' if current_user.language == 'es' }}>Spanish</option>
                                <option value="fr" {{ 'selected' if current_user.language == 'fr' }}>French</option>
                                <option value="de" {{ 'selected' if current_user.language == 'de' }}>German</option>
                                <option value="it" {{ 'selected' if current_user.language == 'it' }}>Italian</option>
                                <option value="pt" {{ 'selected' if current_user.language == 'pt' }}>Portuguese</option>
                                <option value="zh" {{ 'selected' if current_user.language == 'zh' }}>Chinese</option>
                                <option value="ja" {{ 'selected' if current_user.language == 'ja' }}>Japanese</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Learning Preferences -->
                <div>
                    <h3 class="text-lg font-semibold text-gray-800 mb-3">Learning Preferences</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label for="preferred_learning_style" class="block text-sm font-medium text-gray-700">Learning Style</label>
                            <select id="preferred_learning_style" name="preferred_learning_style" 
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                <option value="" {{ 'selected' if not current_user.preferred_learning_style }}>Not specified</option>
                                <option value="visual" {{ 'selected' if current_user.preferred_learning_style == 'visual' }}>Visual</option>
                                <option value="auditory" {{ 'selected' if current_user.preferred_learning_style == 'auditory' }}>Auditory</option>
                                <option value="kinesthetic" {{ 'selected' if current_user.preferred_learning_style == 'kinesthetic' }}>Kinesthetic</option>
                                <option value="reading" {{ 'selected' if current_user.preferred_learning_style == 'reading' }}>Reading/Writing</option>
                            </select>
                        </div>
                        <div>
                            <label for="difficulty_preference" class="block text-sm font-medium text-gray-700">Difficulty Preference</label>
                            <select id="difficulty_preference" name="difficulty_preference" 
                                    class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">
                                <option value="beginner" {{ 'selected' if current_user.difficulty_preference == 'beginner' }}>Beginner</option>
                                <option value="intermediate" {{ 'selected' if current_user.difficulty_preference == 'intermediate' }}>Intermediate</option>
                                <option value="advanced" {{ 'selected' if current_user.difficulty_preference == 'advanced' }}>Advanced</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Bio -->
                <div>
                    <label for="bio" class="block text-sm font-medium text-gray-700">Bio</label>
                    <textarea id="bio" name="bio" rows="4" 
                              placeholder="Tell us about yourself..."
                              class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500">{{ current_user.bio or '' }}</textarea>
                </div>

                <!-- Action Buttons -->
                <div class="flex justify-end space-x-4 pt-6 border-t">
                    <a href="{{ url_for('profile') }}" 
                       class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition">
                        Cancel
                    </a>
                    <button type="submit" 
                            class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}